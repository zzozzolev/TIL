## EC2에 디플로이하는 것에 비해 얻는 이점들
- RDS는 관리형 서비스이다.
  - 자동화된 프로비저닝, OS 패칭이 가능하다.
  - 지속적인 백업과 특정 타임스탬프로 복구할 수 있다.
  - 모니터링 대쉬보드가 제공된다.
  - 향상된 읽기 성능을 위해 리드 레플리카를 사용할 수 있다.
  - 재앙에 대한 복구를 위해 멀티 AZ로 설정된다.
  - 업그레이드를 위한 maintenance window가 제공된다.
  - 수직, 수평 스케일링 능력이 있다.
  - EBS로 스토리지 백업이 가능하다.
- 하지만 인스턴스에 SSH로 접속할 수 없다.

## RDS Backups
- 백업은 RDS에서 자동적으로 활성화된다.
- 자동화된 백업
  - 매일 DB의 전체 백업
  - 트랜잭션 로그들은 RDS에 의해 매 5분마다 백업된다.
  - 7일의 리텐션을 가진다. (35일까지 보관할 수도 있다.)
- DB 스냅샷
  - 유저에 의해 수동으로 트리거된다.
  - 원하는 만큼 유지할 수 있다.

## RDS Storage Auto Scaling
- RDS가 프리 데이터 베이스 스토리지를 다 썼다는 걸 감지했을 때, 자동으로 스케일한다.
- maximum storage threshhold를 설정해야한다.
- 예측 불가능한 워크 로드를 가지는 어플리케이션들에 유용하다.

## RDS Read Replicas for read scalability
- 5개까지 리드 레플리카를 둘 수 있다.
- 3가지 옵션이 있다.
  - within AZ
  - cross AZ
  - cross region
- 복제는 비동기적으로 이루어지므로 읽기는 최종적 일관성을 가진다.
- 레플리카들은 자신의 DB를 가지는 것으로 승급될 수 있다.
- 애플리케이션들은 리드 레플리카를 활용하기 위해 커넥션 스트링을 업데이트해야한다.

### 유즈케이스
- 리포팅 애플리케이션이 데이터를 필요로 한다면 기존의 마스터 DB를 호출하도록 하는 게 아니라 레플리카를 호출하도록 하면 된다.
- 그러면 프로덕션 애플리케이션은 영향을 받지 않는다.
- 리드 레플리카는 SELECT에만 쓰일 수 있고 업데이트와 관련된 스테이트먼트에는 쓰일 수 없다.

### 네크워크 코스트
- AWS에서 한 AZ에서 다른 AZ로 갈 때 네트워크 코스트가 있다.
- 같은 지역내에 있는 RDS 리드 레플리카에 대해서는 비용을 지불하지 않는다.
  - 예를 들어, `us-east-1a`에서 `us-east-1b`로 레플리케이션을 한다면 비용이 들지 않는다. -> same region
  - 하지만, `us-east-1a`에서 `eu-west-1b`로 한다면 비용을 지불해야한다. -> cross region

## RDS Multi AZ (Disaster Recovery)
- standby 인스턴스이다.
- 동기 레플리케이션이다.
- 하나의 DNS 네임을 가진다.
- availability를 증가시킨다.
- AZ 실패, 네트워크 실패, 인스턴스 혹은 스토리지 실패에 대한 failover이다.
- 스케일링을 위한 게 아니다.
- 리드 레플리카를 이렇게 설정할 수도 있다.
